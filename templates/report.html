<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<title>Smoke Test Report - {{ suite_name }}</title>
<style>
  body { font-family: -apple-system, sans-serif; margin: 40px; background: #f5f5f5; }
  h1 { color: #333; }
  h2 { color: #555; margin-top: 30px; }
  .summary { display: flex; gap: 20px; margin: 20px 0; }
  .card { background: white; border-radius: 8px; padding: 20px; box-shadow: 0 1px 3px rgba(0,0,0,.1); }
  .card.pass { border-left: 4px solid #4caf50; }
  .card.fail { border-left: 4px solid #f44336; }
  .card h3 { margin: 0 0 8px 0; color: #666; font-size: 14px; }
  .card .value { font-size: 32px; font-weight: bold; }
  .device-info { display: flex; gap: 20px; margin: 20px 0; flex-wrap: wrap; }
  .info-section { background: white; border-radius: 8px; padding: 20px; box-shadow: 0 1px 3px rgba(0,0,0,.1); flex: 1; min-width: 300px; }
  .info-section h3 { margin: 0 0 12px 0; color: #333; border-bottom: 2px solid #2196f3; padding-bottom: 8px; }
  .info-row { display: flex; padding: 4px 0; }
  .info-label { color: #666; width: 140px; flex-shrink: 0; }
  .info-value { color: #333; font-weight: 500; word-break: break-all; }
  table { width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 1px 3px rgba(0,0,0,.1); }
  th { background: #333; color: white; padding: 12px; text-align: left; }
  td { padding: 10px 12px; border-bottom: 1px solid #eee; }
  .status-PASS { color: #4caf50; font-weight: bold; }
  .status-FAIL { color: #f44336; font-weight: bold; }
  .status-SKIP { color: #ff9800; font-weight: bold; }
  .status-ERROR { color: #f44336; font-weight: bold; }
  .meta { color: #999; font-size: 14px; margin-bottom: 20px; }
</style>
</head>
<body>
<h1>Smoke Test Report</h1>
<p class="meta">Suite: {{ suite_name }} | Device: {{ device_name }} | {{ timestamp }}</p>

<div class="summary">
  <div class="card"><h3>Total</h3><div class="value">{{ total }}</div></div>
  <div class="card pass"><h3>Passed</h3><div class="value" style="color:#4caf50">{{ passed }}</div></div>
  <div class="card fail"><h3>Failed</h3><div class="value" style="color:#f44336">{{ failed }}</div></div>
</div>

{% if device_info %}
<h2>Device Information</h2>
<div class="device-info">
  <div class="info-section">
    <h3>Hardware</h3>
    {% for key, label in [("model", "Model"), ("brand", "Brand"), ("manufacturer", "Manufacturer"), ("device", "Device"), ("hardware", "Hardware"), ("board", "Board"), ("platform", "Platform"), ("cpu_abi", "CPU ABI"), ("serial", "Serial")] %}
    {% if device_info.get(key) %}
    <div class="info-row">
      <span class="info-label">{{ label }}</span>
      <span class="info-value">{{ device_info[key] }}</span>
    </div>
    {% endif %}
    {% endfor %}
  </div>
  <div class="info-section">
    <h3>Software</h3>
    {% for key, label in [("android_version", "Android Version"), ("sdk_version", "SDK Level"), ("security_patch", "Security Patch"), ("build_id", "Build ID"), ("build_type", "Build Type"), ("build_fingerprint", "Fingerprint"), ("kernel_version", "Kernel")] %}
    {% if device_info.get(key) %}
    <div class="info-row">
      <span class="info-label">{{ label }}</span>
      <span class="info-value">{{ device_info[key] }}</span>
    </div>
    {% endif %}
    {% endfor %}
  </div>
</div>
{% endif %}

<h2>Test Results</h2>
<table>
  <tr><th>ID</th><th>Test Name</th><th>Status</th><th>Duration</th><th>Message</th></tr>
  {% for r in results %}
  <tr>
    <td>{{ r.id }}</td>
    <td>{{ r.name }}</td>
    <td class="status-{{ r.status }}">{{ r.status }}</td>
    <td>{{ "%.2f"|format(r.duration) }}s</td>
    <td>{{ r.message }}</td>
  </tr>
  {% endfor %}
</table>
</body>
</html>
